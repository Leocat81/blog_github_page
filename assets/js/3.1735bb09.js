(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{453:function(t,s,a){},485:function(t,s){t.exports="data:image/png;base64,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"},486:function(t,s){t.exports="data:image/png;base64,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"},487:function(t,s,a){"use strict";a(453)},514:function(t,s,a){"use strict";a.r(s);a(487);var n=a(24),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"简单模拟数据劫持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#简单模拟数据劫持"}},[t._v("#")]),t._v(" 简单模拟数据劫持")]),t._v(" "),n("p",[t._v("在实现简单模拟数据劫持之前，让我们先来了解一下 ECMAScript 对象的属性类型")]),t._v(" "),n("h2",{attrs:{id:"对象的属性类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对象的属性类型"}},[t._v("#")]),t._v(" 对象的属性类型")]),t._v(" "),n("p",[t._v("ECMAScript 中有两种属性："),n("span",{staticClass:"point_text"},[t._v("数据属性")]),t._v("和"),n("span",{staticClass:"point_text"},[t._v("访问器属性")]),t._v("。")]),t._v(" "),n("h3",{attrs:{id:"一-数据属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-数据属性"}},[t._v("#")]),t._v(" 一 ： 数据属性")]),t._v(" "),n("p",[t._v("数据属性包含一个数据值的位置。在这个位置可以读取和写入值。数据属性有 4 个描述其行为的特性。")]),t._v(" "),n("ul",[n("li",[t._v("[[Configurable]]：表示能否通过 delete 删除属性从而重新定义属性，能否修改属性的特性，或者能否把属性修改为访问器属性。默认值为 true。")]),t._v(" "),n("li",[t._v("[[Enumberable]]：表示能否通过 for-in 循环返回属性。默认值为 true。")]),t._v(" "),n("li",[t._v("[[Writable]]：表示能否修改属性的值。默认值为 true。")]),t._v(" "),n("li",[t._v("[[Value]]：包含这个属性的数据值。读取属性值的时候，从这个位置读；写入属性值的时候，把新值保存在这个位置。默认值为 undefined。")])]),t._v(" "),n("p",[n("span",{staticClass:"point_text"},[t._v("要修改属性默认的特性，必须使用 ES5 的 Object.defineProperty()方法。")])]),t._v(" "),n("div",{staticClass:"language-JS line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" person "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nObject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    configurable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不能删除该属性,不能修改属性的特性，不能访问访问器属性")]),t._v("\n    writable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不能进行赋值操作")]),t._v("\n    value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Niko'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Niko'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 因为configurable为false, 在删除属性操作           非严格模式下不会发生任何操作，在严格模式下报错")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Niko'")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Niko'")]),t._v("\n person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Simple'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 因为writable为false, 故赋值操作在非严格模式下不会发生任何操作，在严格模式下报错")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Niko'")]),t._v("\n\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br")])]),n("p",[n("span",{staticClass:"warn_text"},[t._v("Object.defineProperty()方法可以被调用多次，但是把 configurable 特性设置为 false 之后就会有限制了。见下面例子：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[t._v(" ")]),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" person "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nObject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  configurable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Niko"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 抛出错误")]),t._v("\nObject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  configurable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Niko"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("p",[n("span",{staticClass:"point_text"},[t._v("在调用 Object.defineProperty()方法创建一个新的属性时，如果不指定，configurable，Enumberable，Writable 特性的默认值都是 false。")])]),t._v(" "),n("h3",{attrs:{id:"二-访问器属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-访问器属性"}},[t._v("#")]),t._v(" 二 ：访问器属性")]),t._v(" "),n("p",[t._v("访问器属性不包含数据值；它们包含一对 getter 和 setter 函数（不过，这两个函数都不是必需的）。在读取访问器属性时，会调用 getter 函数，这个函数负责返回有效的值；在写入访问器属性时，会调用 setter 函数并传入新值，这个函数负责决定如何处理数据。访问器属性有如下 4 个特性。")]),t._v(" "),n("ul",[n("li",[t._v("[[Configurable]]：表示能否通过 delete 删除属性从而重新定义属性，能否修改属性的特性，或者能否把属性修改为访问器属性。默认值为 true。")]),t._v(" "),n("li",[t._v("[[Enumberable]]：表示能否通过 for-in 循环返回属性。默认值为 true。")]),t._v(" "),n("li",[t._v("[[Get]]：在读取属性时调用的函数。默认值为 undefined。")]),t._v(" "),n("li",[t._v("[[Set]]：在写入属性时调用的函数。默认值为 undefined。")])]),t._v(" "),n("p",[n("span",{staticClass:"point_text"},[t._v("访问器属性不能直接定义，必须使用 Object.defineProperty()来定义。请看下面的例子。")])]),t._v(" "),n("div",{staticClass:"language-JS line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" book "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    _year"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2004")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    edition"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nObject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("book"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"year"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_year"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2004")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_year "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("edition "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" newValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2004")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbook"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("year "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2005")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("book"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("edition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br")])]),n("p",[n("span",{staticClass:"warn_text"},[t._v("定义多个属性")])]),t._v(" "),n("div",{staticClass:"language-JS line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" book "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nObject"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("book"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    _year"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        writable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2004")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    edition"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        writable"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    year"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_year"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2004")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_year "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("edition "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" newValue "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2004")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br")])]),n("h2",{attrs:{id:"数据劫持"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据劫持"}},[t._v("#")]),t._v(" 数据劫持")]),t._v(" "),n("p",[t._v("经过以上简单介绍对象的属性类型和 Object.defineProperty()方法，相信大家都已经想到了数据劫持实现方法了，实际就是使用对象访问器属性的 getter 和 setter 函数对数据变化进行拦截通知，下面直接上代码。")]),t._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xiaoli"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  likes"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"speak"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dance"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 遍历对象所有属性，给每个属性绑定拦截器")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义一个拦截器，劫持数据的变化并通知。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Array")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"获取参数"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"设置参数"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newVal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xiaowang"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 这里进行的赋值操作，故见下图"设置参数"出现一次')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 这里进行的读取操作，故见下图"获取参数"出现两次')]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br")])]),n("p",[n("img",{attrs:{src:a(485),alt:"RUNOOB 图标"}})]),t._v(" "),n("h2",[t._v("总结：以上即为简单的数据劫持模型")]),t._v(" "),n("p",[n("span",{staticClass:"point_text"},[t._v("特别注意:setter 函数不能劫持到以下几种情况")])]),t._v(" "),n("p",[t._v("1：不能检测以下数组的变动")]),t._v(" "),n("ul",[n("li",[t._v("当你利用索引直接设置一个数组项时 例如 "),n("span",{staticClass:"warn_code"},[n("code",[t._v("arr[indexOfItem] = newValue")])])]),t._v(" "),n("li",[t._v("当你修改数组的长度时，例如："),n("span",{staticClass:"warn_code"},[n("code",[t._v("arr.length = newLength")])])])]),t._v(" "),n("p",[n("span",{staticClass:"todo"},[t._v("TODO: 查阅资料，补充其他情况。")])]),t._v(" "),n("p",[t._v("以上面例子举例：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("observe")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nobj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("likes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"read"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里实际只进入了getter，没有进入setter 故下图")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:a(486),alt:"RUNOOB 图标"}})])])}),[],!1,null,"5ff90988",null);s.default=e.exports}}]);